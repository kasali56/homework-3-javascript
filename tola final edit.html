<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="UTF-8">
    <title>Word Guess Game</title>
</head>

<body>

    <div>
        <p id="directions-text">Type any letter to start playing</p>
        <p id="userchoice-text"></p>
        <p id="userguesslist-text"></p>
        <p id="unscrambledword-text"></p>
        <p id="wins-text"></p>
        <p id="losses-text"></p>
    </div>

    <script type="text/javascript">
        var userGuesses = [];
        var wins = 0;
        var losses = 0;
        var ties = 0;
        var unknownWord = "";
        var typeCounter = 0;

        function wordGenerator() {
            var computerChoices = ["lowly", "start", "chilly", "bun", "bead", "friend", "return", "view", "cloth", "frogs", "celery", "basin", "stand", "special", "broad", "abaft", "plead", "quartz", "mark", "tempt", "shop", "stone", "scorch", "taboo", "hoax", "spiffy", "insure"];
            var cpuWord = computerChoices[Math.floor(Math.random() * computerChoices.length)];
            console.log(cpuWord);
            return cpuWord;
        };
        var computerWord = wordGenerator();

        function scrambledWord(string) {
            var knownWord = "";
            if (string.length == 3) {
                knownWord = "___"
                var arr = [...knownWord]
                console.log(Array.isArray(arr));
                return arr
            } else if (string.length == 4) {
                knownWord = "____"
                var arr = [...knownWord]
                console.log(Array.isArray(arr));
                return arr
            } else if (string.length == 5) {
                knownWord = "_____"
                var arr = [...knownWord]
                console.log(Array.isArray(arr));
                return arr
            } else if (string.length == 6) {
                knownWord = "______"
                var arr = [...knownWord]
                console.log(Array.isArray(arr));
                return arr
            } else if (string.length == 7) {
                knownWord = "_______"
                var arr = [...knownWord]
                console.log(Array.isArray(arr));
                return arr
            }
        }
        var unknownWord = scrambledWord(computerWord);

        var directionsText = document.getElementById("directions-text");
        var userChoiceText = document.getElementById("userchoice-text");
        var userGuessList = document.getElementById("userguesslist-text");
        var unscrambledWordText = document.getElementById("unscrambledword-text");
        var winsText = document.getElementById("wins-text");
        var lossesText = document.getElementById("losses-text");

        document.onkeyup = function (event) {

            var userGuess = event.key;

            if ((userGuess === "a") || (userGuess === "b") || (userGuess === "c") || (userGuess === "d") || (userGuess === "e") || (userGuess === "f") || (userGuess === "g") || (userGuess === "h") || (userGuess === "i") || (userGuess === "j") || (userGuess === "k") || (userGuess === "l") || (userGuess === "m") || (userGuess === "n") || (userGuess === "o") || (userGuess === "p") || (userGuess === "q") || (userGuess === "r") || (userGuess === "s") || (userGuess === "t") || (userGuess === "u") || (userGuess === "v") || (userGuess === "w") || (userGuess === "x") || (userGuess === "y") || (userGuess === "z")) {
                userGuesses.push(userGuess);
                directionsText.textContent = "";

                userChoiceText.textContent = "You chose: " + userGuess;
                userGuessList.textContent = "You have guessed: " + userGuesses;
                unscrambledWordText.textContent = "The word is: " + unknownWord;
                winsText.textContent = "Wins: " + wins;
                lossesText.textContent = "Losses: " + losses;
                wordChecker(userGuess);
                typeCounter++;
            } else {
                alert("You did not enter an alphabetical character.")
            }
        };

        function wordChecker(userGuess) {
            if (computerWord.includes(userGuess)) {
                alert("You guessed a correct character");
            } else {
                alert("You guessed an incorrect character")
            }
            unscrambledWord(unknownWord, computerWord, userGuess);
        }

        function unscrambledWord(unknownWord, word, userGuess) {
            for (i = 0; i < word.length; i++) {
                if (userGuess === word[i]) {
                    unscrambledWordText.textContent = "The word is: " + unknownWord;
                    winsText.textContent = "Wins: " + wins;
                    lossesText.textContent = "Losses: " + losses;
                    unknownWord.splice(i, 1, word[i]);
                    console.log(unknownWord);

                }
            }
        }

        unscrambledWordText.textContent = "The word is: " + unknownWord;


    </script>

</body>

</html>